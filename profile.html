<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Profile</title>
        <!-- SEO Meta Tags -->
        <meta
            name="description"
            content="Thegreatentertainment - Trải nghiệm giải trí hàng đầu với các nội dung phong phú và đa dạng."
        />
        <meta
            name="keywords"
            content="giải trí, phim ảnh, âm nhạc, tin tức, Thegreatentertainment, the great entertainment"
        />
        <meta name="robots" content="index, follow" />
        <meta name="author" content="Thegreatentertainment" />
        <link
            rel="canonical"
            href="https://www.thegreatentertainment.com/profile"
        />

        <!-- Social Media Meta Tags -->
        <meta property="og:title" content="Thegreatentertainment | Trang chủ" />
        <meta
            property="og:description"
            content="Thegreatentertainment - Trải nghiệm giải trí hàng đầu với các nội dung phong phú và đa dạng."
        />
        <meta
            property="og:image"
            content="https://thegreatentertainment.com/imgs/portfolio/bray_10.png"
        />
        <meta
            property="og:url"
            content="https://www.thegreatentertainment.com/"
        />
        <meta property="og:type" content="website" />

        <meta name="twitter:card" content="summary_large_image" />
        <meta
            name="twitter:title"
            content="Thegreatentertainment | Trang chủ"
        />
        <meta
            name="twitter:description"
            content="Thegreatentertainment - Trải nghiệm giải trí hàng đầu với các nội dung phong phú và đa dạng."
        />
        <meta
            name="twitter:image"
            content="https://thegreatentertainment.com/imgs/portfolio/bray_10.png"
        />

        <!-- Favicon Links -->
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="./imgs/favicon/apple-touch-icon.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="32x32"
            href="./imgs/favicon/favicon-32x32.png"
        />
        <link
            rel="icon"
            type="image/png"
            sizes="16x16"
            href="./imgs/favicon/favicon-16x16.png"
        />
        <link rel="manifest" href="./imgs/favicon/site.webmanifest" />

        <!-- CSS Links -->
        <link
            href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="./css/global.css?v=1.7" />

        <!-- Google tag (gtag.js) -->
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag("js", new Date());

            gtag("config", "G-27X2KP73M8");
        </script>

        <style>
            .profile {
                width: 100%;
                margin-top: 72px;
                padding: var(--24px) 0;
            }
            .profile__list {
                display: flex;
                align-items: center;
                flex-direction: column;
                gap: var(--24px);
            }
            .profile__item img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
        </style>
    </head>
    <body>
        <header id="header">
            <div class="container">
                <div class="header">
                    <a href="/" class="logo">
                        <img src="./imgs/logoG_mausang.png" alt="Logo" />
                    </a>
                    <nav class="nav-links">
                        <a href="/artist.html" class="active">Artist</a>
                        <a href="#">Production</a>
                        <a href="#">Social Media</a>
                        <a href="#">Project</a>
                        <a href="#">Great's Network</a>
                        <a href="#">Working team</a>
                        <a href="#">About us</a>
                    </nav>
                    <div class="header__right">
                        <div class="menu-icon" id="menu-icon">
                            <div class="bar"></div>
                            <div class="bar"></div>
                            <div class="bar"></div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div id="loading">Loading...</div>
        <div id="profile" class="profile">
            <div class="container">
                <div class="profile__list" id="profileList">
                    <!-- Hình ảnh sẽ được thêm vào động thông qua JavaScript -->
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <footer class="footer">
            <div class="container">
                <div class="footer__wrap">
                    <div class="footer-section company-info">
                        <a href="/" class="logo">
                            <img src="./imgs/logoG_mausang.png" alt="Logo" />
                        </a>
                        <p>
                            Lorem ipsum dolor sit amet, consectetur adipiscing
                            elit. Praesent donec risus nibh sed nulla metus.
                        </p>
                    </div>
                    <div class="footer-section links">
                        <h3>Links</h3>
                        <ul>
                            <li><a href="#">Term Of Use</a></li>
                            <li><a href="#">Privacy Policy</a></li>
                        </ul>
                    </div>
                    <div class="footer-section page">
                        <h3>Page</h3>
                        <ul>
                            <li><a href="#">About Us</a></li>
                            <li><a href="#">Our Artist</a></li>
                            <li><a href="#">Production</a></li>
                            <li><a href="#">Event</a></li>
                            <li><a href="#">FAQ</a></li>
                            <li><a href="#">Gallery</a></li>
                        </ul>
                    </div>
                    <div class="footer-section contact">
                        <h3>Contact Us</h3>
                        <div class="contact__item">
                            <i class="bx bxs-phone"></i>
                            <p href="#">+12 749 382 939</p>
                        </div>
                        <div class="contact__item">
                            <i class="bx bxs-envelope"></i>
                            <p href="#">catalist@gmail.com</p>
                        </div>
                        <div class="contact__item">
                            <i class="bx bxs-map"></i>
                            <p>Tower 122, Burn - Swiss</p>
                        </div>
                    </div>
                    <div class="footer-section artist">
                        <h3>Become An Artist</h3>
                        <p>Lorem ipsum dolor sit amet, consectetur adipis.</p>
                        <!-- <button class="btn btn-primary">Register Now</button> -->
                    </div>
                </div>
            </div>
        </footer>
        <!-- CLOSE FOOTER -->

        <button id="scrollTopBtn" class="scroll-top-btn">
            <i class="bx bx-chevron-up"></i>
        </button>
        <script src="./js/app.js?v=1.4"></script>
        <script>
            // Lấy giá trị của tham số 'name' từ URL
            const urlParams = new URLSearchParams(window.location.search);
            const name = urlParams.get("name");

            // Xác định phần tử chứa danh sách hình ảnh
            const profileList = document.getElementById("profileList");

            // Phần tử loading
            const loadingElement = document.getElementById("loading");

            // Giả sử số lượng ảnh có thể lên tới 10
            const maxImages = 10;

            // Hàm kiểm tra sự tồn tại của hình ảnh, trả về Promise
            function checkImageExists(src) {
                return new Promise((resolve) => {
                    const img = new Image();
                    img.onload = () => resolve({ exists: true, src }); // Nếu tải thành công
                    img.onerror = () => resolve({ exists: false, src }); // Nếu lỗi
                    img.src = src;
                });
            }

            // Tạo mảng promises để kiểm tra sự tồn tại của tất cả các ảnh
            const promises = [];

            for (let i = 1; i <= maxImages; i++) {
                const imageUrl = `./imgs/portfolio/${name}/${i}.png`;
                promises.push(checkImageExists(imageUrl));
            }

            // Khi tất cả các promises hoàn thành
            Promise.all(promises).then((results) => {
                results.forEach(({ exists, src }, i) => {
                    if (exists) {
                        const div = document.createElement("div");
                        div.classList.add("profile__item");

                        const img = document.createElement("img");
                        img.src = src;
                        img.alt = `${name} ${i + 1}`;

                        div.appendChild(img);
                        profileList.appendChild(div);
                    }
                });

                // Delay 2 giây trước khi ẩn phần loading
                setTimeout(() => {
                    loadingElement.style.display = "none";
                }, 1000); // Trễ 2 giây
            });
        </script>
    </body>
</html>
